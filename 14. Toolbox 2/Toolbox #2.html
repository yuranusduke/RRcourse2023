<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.335">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Wojciech Hardy">
<meta name="dcterms.date" content="2023-05-31">

<title>Reproducible Research - Toolbox #2</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="Toolbox #2_files/libs/clipboard/clipboard.min.js"></script>
<script src="Toolbox #2_files/libs/quarto-html/quarto.js"></script>
<script src="Toolbox #2_files/libs/quarto-html/popper.min.js"></script>
<script src="Toolbox #2_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Toolbox #2_files/libs/quarto-html/anchor.min.js"></script>
<link href="Toolbox #2_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Toolbox #2_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="Toolbox #2_files/libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="Toolbox #2_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Toolbox #2_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Toolbox #2_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="Toolbox #2_files/libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<style>html{ scroll-behavior: smooth; }</style>


</head>

<body>

<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Reproducible Research - Toolbox #2</h1>
            <p class="subtitle lead">Data repositories, environment managers, packages, etc.</p>
                      </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Wojciech Hardy </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">May 31, 2023</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Contents</h2>
   
  <ul>
  <li><a href="#some-very-good-resources-for-rr" id="toc-some-very-good-resources-for-rr" class="nav-link active" data-scroll-target="#some-very-good-resources-for-rr">Some very good resources for RR</a></li>
  <li><a href="#data-repositories" id="toc-data-repositories" class="nav-link" data-scroll-target="#data-repositories">Data repositories</a>
  <ul class="collapse">
  <li><a href="#zenodo" id="toc-zenodo" class="nav-link" data-scroll-target="#zenodo">Zenodo</a></li>
  </ul></li>
  <li><a href="#managing-environments" id="toc-managing-environments" class="nav-link" data-scroll-target="#managing-environments">Managing environments</a>
  <ul class="collapse">
  <li><a href="#recall-reproducible-environments" id="toc-recall-reproducible-environments" class="nav-link" data-scroll-target="#recall-reproducible-environments">Recall reproducible environments</a></li>
  <li><a href="#enter-anaconda-navigator" id="toc-enter-anaconda-navigator" class="nav-link" data-scroll-target="#enter-anaconda-navigator">Enter Anaconda Navigator</a></li>
  </ul></li>
  <li><a href="#other-handy-packages" id="toc-other-handy-packages" class="nav-link" data-scroll-target="#other-handy-packages">Other handy packages</a>
  <ul class="collapse">
  <li><a href="#code-verification" id="toc-code-verification" class="nav-link" data-scroll-target="#code-verification">Code verification</a></li>
  <li><a href="#lintr-pairs-with-styler" id="toc-lintr-pairs-with-styler" class="nav-link" data-scroll-target="#lintr-pairs-with-styler"><code>lintr</code> pairs with <code>styler</code></a></li>
  <li><a href="#data-loading" id="toc-data-loading" class="nav-link" data-scroll-target="#data-loading">Data loading</a></li>
  <li><a href="#other-others" id="toc-other-others" class="nav-link" data-scroll-target="#other-others">Other others</a>
  <ul class="collapse">
  <li><a href="#caching" id="toc-caching" class="nav-link" data-scroll-target="#caching">Caching</a></li>
  <li><a href="#conflicts-in-packages" id="toc-conflicts-in-packages" class="nav-link" data-scroll-target="#conflicts-in-packages">Conflicts in packages</a></li>
  <li><a href="#here-i-am" id="toc-here-i-am" class="nav-link" data-scroll-target="#here-i-am">Here I am</a></li>
  <li><a href="#project-templates" id="toc-project-templates" class="nav-link" data-scroll-target="#project-templates">Project templates</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#creating-packages" id="toc-creating-packages" class="nav-link" data-scroll-target="#creating-packages">Creating packages</a></li>
  </ul>
</nav>
</div>
<main class="content quarto-banner-title-block" id="quarto-document-content">




<section id="some-very-good-resources-for-rr" class="level1">
<h1>Some very good resources for RR</h1>
<p>Karl Broman’s (Professor in Biostatistics and Medical Informatics at University of Wisconsin) <a href="https://kbroman.org/Tools4RR/pages/resources.html">compilation</a> of guidelines, tutorials, packages and other resources. Also check his <a href="https://kbroman.org/Tools4RR/pages/schedule.html">course materials</a>.</p>
<p>Roger Peng’s (Professor of Statistics and Data Sciences at the University of Texas) <a href="https://www.youtube.com/watch?v=4rBX6r5emgQ&amp;list=PLjTlxb-wKvXOU4WW4p3qc4VKWTI4gLNUf">video lectures on RR</a>. Check out the <a href="https://www.youtube.com/watch?v=pjL2uP-fmPY&amp;list=PLjTlxb-wKvXOU4WW4p3qc4VKWTI4gLNUf&amp;index=4">“Reproducible Research Checklist”</a> - might be helpful for your projects!</p>
<p><a href="https://github.com/rostools">“Reproducible and Open Science Tools” project</a>, with a series of helpful packages. Also, check out <a href="https://r-cubed-intro.rostools.org/sessions/project-management.html">their tutorials on e.g.&nbsp;projects</a>.</p>
<hr>
</section>
<section id="data-repositories" class="level1">
<h1>Data repositories</h1>
<p>Sometimes our data is a product in itself and we might want to share it. Project repositories are not always suitable for that:</p>
<ul>
<li>they do not treat your project as a publication</li>
<li>they do not offer too much storage space</li>
</ul>
<p>Enter <a href="https://www.re3data.org/">data repositories</a>. Some of the data repositories are commercially oriented, while others boost open science.</p>
<p><img src="https://coderefinery.github.io/reproducible-research/_images/Open_Science_Principles.png" class="img-fluid"> <a href="https://coderefinery.github.io/reproducible-research/sharing/">Source</a></p>
<p>Also: storing your outputs in a proper repository can help get you citations.</p>
<section id="zenodo" class="level2">
<h2 class="anchored" data-anchor-id="zenodo">Zenodo</h2>
<p>One example of a data repository is Zenodo. Initially funded by the European Commission as part of a Horizon 2020 project of the OpenAIRE consortium. It succeeded the “OpenAIRE Orphan Records Repository”. Currently operated by CERN (European Organization for Nuclear Research).</p>
<p>Zenodo:</p>
<ul>
<li>caters to researchers who need a repository for their data.</li>
<li>allows files of up to 50GB (you can have multiple datasets), but larger files can be negotiated.</li>
<li>you get a Digital Object Identifier (DOI): one for each specific version, one for the object in all its versions.</li>
<li>this makes it easy to cite.</li>
<li>you can sync this with a GitHub repository.</li>
</ul>
<p><a href="https://help.zenodo.org/">Read more here</a>.</p>
<p>The name comes from Zenodotus, which is actually quite interesting!</p>
<p>Zenodotus was a Greek scholar and librarian at the Library of Alexandria, circa 280 BC.</p>
<p>He’s the father of metadata! He introduced:</p>
<ul>
<li><p>classification (materials were assigned to rooms based on subject matter - e.g.&nbsp;verse or prose, literary or scientific)</p></li>
<li><p>ordering (alphabetically by author)</p></li>
<li><p>tags with metadata (to avoid having to unscroll everything just to find what’s inside…)</p></li>
</ul>
<p>Let’s take check Zenodo and see how it works with a GitHub repository.</p>
<p>This is <a href="https://zenodo.org/">Zenodo</a> and this is its official clone for testing - the <a href="https://sandbox.zenodo.org/">Sandbox Zenodo</a>. Let’s use the latter (it looks the same).</p>
<p>Of course, there <a href="(https://www.re3data.org/)">numerous other data repositories</a>, including country-specific ones.</p>
<hr>
</section>
</section>
<section id="managing-environments" class="level1">
<h1>Managing environments</h1>
<section id="recall-reproducible-environments" class="level2">
<h2 class="anchored" data-anchor-id="recall-reproducible-environments">Recall reproducible environments</h2>
<p>We learned about some R packages / Python libraries.</p>
<p>Discussed Docker.</p>
<p>Let’s check out another environments management tool.</p>
</section>
<section id="enter-anaconda-navigator" class="level2">
<h2 class="anchored" data-anchor-id="enter-anaconda-navigator">Enter Anaconda Navigator</h2>
<p>Comes with Anaconda installation (Miniconda + <code>conda install anaconda-navigator</code> is enough).</p>
<p>Easy to operate from the prompt (e.g.&nbsp;<code>conda activate renv1</code>). Here’s <a href="https://conda.io/projects/conda/en/latest/user-guide/cheatsheet.html">a cheatsheet</a> (it’s not long).</p>
<p>Also has a GUI in a desktop app.</p>
<p>You can: create new environments, export them (in .yml files!), import them, switch between them.</p>
<p>You switch between them and can install differing software and package versions, as well as add specific apps, etc.</p>
<p>These distinct environments can be run simultaneously without collision.</p>
<p>Let’s take a look.</p>
<hr>
</section>
</section>
<section id="other-handy-packages" class="level1">
<h1>Other handy packages</h1>
<section id="code-verification" class="level2">
<h2 class="anchored" data-anchor-id="code-verification">Code verification</h2>
<p><a href="https://en.wikipedia.org/wiki/Lint_(software)">(From Wikipedia)</a> “<strong>Lint</strong> is the computer science term for a static code analysis tool used to flag programming errors, bugs, stylistic errors and suspicious constructs.”</p>
<p>The tool is called a “linter”.</p>
<p>Enter <a href="https://github.com/r-lib/lintr"><code>lintr</code></a> package in R.</p>
<p>In R:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages("lintr")</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>lintr<span class="sc">::</span><span class="fu">lint</span>(<span class="at">filename =</span> <span class="st">""</span>)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>lintr<span class="sc">::</span><span class="fu">lint_dir</span>(<span class="at">path =</span> <span class="st">""</span>) <span class="co"># to apply to a whole project.</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>lintr<span class="sc">::</span><span class="fu">lint_package</span>() <span class="co"># to verify package contents.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Lintr can be configured according to one’s needs.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>lintr<span class="sc">::</span><span class="fu">use_lintr</span>(<span class="at">type =</span> <span class="st">"tidyverse"</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Check the insides of the created file</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Also, check the list of linters enabled by default in the helpful vignette (<code>vignette("lintr")</code>)</p>
<p>Quick exercise: use lintr_dir() on your course repository.</p>
</section>
<section id="lintr-pairs-with-styler" class="level2">
<h2 class="anchored" data-anchor-id="lintr-pairs-with-styler"><code>lintr</code> pairs with <a href="https://github.com/r-lib/styler"><code>styler</code></a></h2>
<p><code>styler</code> takes this one step further and tries to correct the styling for you.</p>
<p>Start by installing and loading styler:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages("styler")</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(styler)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Open a recent code file in R. Check out the “Addins” tab above and scroll down to styling options.</p>
<p>Notice the command that got passed to the console (we can automate this and change the styles!)</p>
<p>Open a recent code file. Right-click.</p>
<p>In a more sophisticated workflow, we could connect our project to GitHub and make it run linting or styling as we push the commits. <a href="https://r-cubed-advanced.rostools.org/sessions/smoother-collaboration.html">See more on this here</a>. <a href="https://docs.github.com/en/actions">And read about GitHub Actions</a>.</p>
</section>
<section id="data-loading" class="level2">
<h2 class="anchored" data-anchor-id="data-loading">Data loading</h2>
<p>Even if you’re working with data provided in a repository, you should make sure your project does enough to:</p>
<ul>
<li><p>explain what the data is about and where it comes from.</p></li>
<li><p>provide the source of the data so the whole procedure can be retraced (including data collection).</p></li>
<li><p>it’s also good to tell <strong>when</strong> the data were last accessed from a given source. This might sometimes allow to use an archived version of the source (see e.g.&nbsp;<a href="https://archive.org/web/">Wayback Machine and Internet Archive</a>).</p></li>
</ul>
<p>The more you automate the better. You can consider using:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">download.file</span>(<span class="st">"https://****/*.csv"</span>, <span class="at">destfile =</span> <span class="st">"Data/*.csv"</span>)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="fu">download.file</span>(<span class="st">"https://****/*.zip"</span>, <span class="at">destfile =</span> <span class="st">"Data/*.zip"</span>)</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="fu">unzip</span>(<span class="st">"*.zip"</span>)</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">"data.RData"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>For an automated data retrieval and loading. Besides making it faster and providing the source, you also reduce the risk that the coder will have to search through various pages for the proper dataset.</p>
</section>
<section id="other-others" class="level2">
<h2 class="anchored" data-anchor-id="other-others">Other others</h2>
<section id="caching" class="level3">
<h3 class="anchored" data-anchor-id="caching">Caching</h3>
<p>Also for regular script files, via the <a href="https://cran.r-project.org/web/packages/R.cache/R.cache.pdf"><code>R.cache</code> package</a>.</p>
</section>
<section id="conflicts-in-packages" class="level3">
<h3 class="anchored" data-anchor-id="conflicts-in-packages">Conflicts in packages</h3>
<p>Sometimes package methods overlap. It might be more robust to define <code>package::function()</code>. Alternatively, <a href="https://conflicted.r-lib.org/"><code>conflicted</code> package</a> allows you to pick preferred versions and halts you and warns you whenever you’re using a function that appears in more than one package. Example from documentation:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(conflicted)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(mtcars, cyl <span class="sc">==</span> <span class="dv">8</span>)</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Error:</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ! [conflicted] filter found in 2 packages.</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Either pick the one you want with `::`:</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; • dplyr::filter</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; • stats::filter</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Or declare a preference with `conflicts_prefer()`:</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; • `conflicts_prefer(dplyr::filter)`</span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; • `conflicts_prefer(stats::filter)`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="here-i-am" class="level3">
<h3 class="anchored" data-anchor-id="here-i-am">Here I am</h3>
<p>The <a href="https://here.r-lib.org/"><code>here</code> package</a> allows you to define all your paths relative to your project directory (which is more robust then <code>setwd()</code>)</p>
</section>
<section id="project-templates" class="level3">
<h3 class="anchored" data-anchor-id="project-templates">Project templates</h3>
<p>It’s good to keep your files and folders in order. <a href="https://github.com/rostools/prodigenr"><code>prodigenr</code></a> starts up a new project with a ‘template’ for the files and folders.</p>
<p>Install the library, load it, and create a new project in the prodigenr format.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages("prodigenr")</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">"prodigenr"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr>
</section>
</section>
</section>
<section id="creating-packages" class="level1">
<h1>Creating packages</h1>
<p>Creating a package is a good way of combining all contents of a project into one, easy-to-load object. A package can store datasets, codes with functions and other items. The packages <code>devtools</code> and <code>usethis</code> provide us with numerous helpful functions and methods, including ones for GitHub connection and package documentation.</p>
<p>Some of these methods can make our work shorter and easier even without creating packages.</p>
<p>Let’s follow the <a href="https://kbroman.org/AdvData/18_rpack_demo.html">tutorial of Prof.&nbsp;Broman</a>.</p>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



<script src="Toolbox #2_files/libs/quarto-html/zenscroll-min.js"></script>
</body></html>